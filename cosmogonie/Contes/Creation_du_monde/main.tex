%\documentclass[a4paper,14pt]{book}
\documentclass[letterpaper,14pt,onecolumn,openany]{dndbook}

\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage[T1]{fontenc}
\usepackage[francais]{babel}
\usepackage{xspace}
\usepackage{hang}
\usepackage{lipsum}
\usepackage{listings}
\usepackage{hyperref}
\hypersetup{
	colorlinks=true,
	linkcolor=[rgb]{0.270, 0.094, 0.466},
}
%\usepackage[sanitize=none]{glossaries}

\usepackage{glossaries}

%\newglossary[tlg]{lieux}{tld}{tdn}{Lieux}
%Glossaire domain
%\newglossaryentry{lieux:caverne}{type=lieux, name=caverne enchantée, description={Caverne perdue dans les montagnes}}

\lstset{%
	basicstyle=\ttfamily,
	language=[LaTeX]{TeX},
}

%Permet de mettre en italic dans le texte
%\defglsentryfmt[main]{\textit{\glsgenentryfmt}}

\makeglossaries

\makeindex


% ENTITES (Glossaire main, principal)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Fait une entree au glossaire en assignant automatiquement le nom au label (#1)
% Argument #2 est la description
\newcommand{\newentry}[3]
{
	\newglossaryentry{#1}{
		name = {#2},
		description={#3}
	}
}

\newcommand{\n}{\newline}

%A utiliser dans le fichier noms Propres: cree une variable #1 pour le string #2 et une entree au glossaire
% #1: Nom commande pour appeler dans le texte (ex: Dieu) #2 : Nom de l'entité qui apparaitra dans le texte #3: label qui sera en entrée du Glossaire #4: Description dans le glossaire
%   
\newcommand{\newEntity}[4]
{
	% #1 doit etre utilise pour fabriquer une commande \#1
	%\expandafter\newcommand\csname #1\endcsname {\gls{#2}\xspace}
	\expandafter\newcommand\csname #1\endcsname {\gls{#2}\xspace}
	\newentry{#2}{#3}{#4}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\loadglsentries{glossaire}





\begin{document}
	

%Change la taille de la font doc
\fontsize{14}{17} \selectfont

\author{P. Schuhmacher}
\title{Cosmogonie}
\date{}
 
 
\frontmatter
%\maketitle
%\tableofcontents

\mainmatter

%\gls{lieux:caverne}
 
\include{./TeX_files/chapter01}
\include{./TeX_files/chapter02}
\include{./TeX_files/chapter03}

\backmatter
% bibliography, glossary and index would go here.


%TODO: Changer le style glossaire, plusieurs glossaires pour differentes catégories (Divinités,Lieux,Hommes,Monstres,Artefacts...), un code couleur pour chaque catégorie de glossaire

%\printglossary[title=Entités]
\printglossaries

\end{document}